@import utils.ChesspieceImageManager
@import services.local.LocalPersistenceService
@import ch.qos.logback.core.joran.spi.EventPlayer
@(input: String, playerID: String, gameID: String, moves: List[String], board: ChesspieceImageManager)(implicit messages: Messages)
@header()
@main("Play Chess") {
    <div class="chessboard-container">
        <table border="0" id="chessboard">
            <tbody>
            @for(i <- (-7 to 0)){
                <tr>
                @for(j <- 0 to 7){
                    <td class="chessfield" id=@{if((i+j) % 2 != 0) "white-field" else "black-field"}>
                    @if(board.getImage(j,-i) != ""){
                        <img alt="Chess Figure" class="figure" src=@routes.Assets.versioned(board.getImage(j,-i))>
                        }
                    </td>
                }
                </tr>
            }
            </tbody>
        </table>

        <div class="game-information-container">
            <div id="game-id" class="mb-2">
                <span class="text-responsive text-colorized">GameID: @gameID</span>
            </div>

            <div class="move-control-container mt-2">
                <div class="move-input-controls">
                    <div class="text-colorized">@input</div>
                    <br>
                    <form class="mb-2" method="post" action="/game/id=@playerID">
                        <label for="move-input" class="header-tertiary">Input:</label>
                        <input type="hidden" name="type" value="move">
                        <input type="text" class="text-input-primary" id="move-input" name="move" autofocus>
                        <input type="submit" class="btn-cta-primary" value="Submit">
                    </form>
                </div>
                <div class="moves-field mt-2">
                    <h3 class="header-tertiary mb-2">Moves:</h3>
                    <p class="text-responsive text-colorized">@moves.mkString(", ")</p>
                </div>
            </div>
        </div>
    </div>
}
@footer()