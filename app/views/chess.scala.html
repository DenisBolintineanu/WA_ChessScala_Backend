@import utils.ChesspieceImageManager
@import services.local.LocalPersistenceService
@import ch.qos.logback.core.joran.spi.EventPlayer
@(input: String, playerID: String, gameID: String, moves: List[String], board: ChesspieceImageManager)(implicit messages: Messages)
@main("Play Chess") {
    <div class="play-game-page container">
        <div class="row">
            <button type="button" class="navbar-toggler shadow-none border-0 btn-sidebar col-1" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"></button>
            <div class="sidebar offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                @gamesidebar()
            </div>
            <div class="chessboard-page col-11">
                <div class="game-container">
                    <div class="chessboard-container">
                        @chessboard(board, false)
                    </div>
                </div>


                <div class="game-information-container">
                    <div id="game-id">
                        <span>GameID: @gameID</span>
                    </div>
                    <div class="move-input-controls">
                        <div class="text-colorized">@input</div>
                        <br>
                        <form class="mb-2 form-move-input-controls" method="post" action="/game/id=@playerID">
                            <label for="move-input">@messages("chess.input"):</label>
                            <input type="hidden" name="type" value="move">
                            <input type="text" class="move-input-primary" id="move-input" name="move" autofocus>
                            <input type="submit" class="btn-cta-primary" value="@messages("chess.submit")">
                        </form>
                    </div>
                    <div class="moves-field mt-2">
                        <h3 class="mb-2">@messages("chess.moves"):</h3>
                        <p class="text-responsive text-colorized">@moves.mkString(", ")</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var playerID = "@playerID";
    </script>
    <script src="@routes.Assets.versioned("javascripts/ChessBoard.js")"></script>
}